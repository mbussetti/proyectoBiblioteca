<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>BookZone</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="/css/styles.css" rel="stylesheet" />
    </head>

    <body>
        <!-- Navigation-->
        <nav th:replace="/fragments/navbar :: nav"></nav>
        <!-- Masthead-->
        <header th:replace="/fragments/header :: header"></header>
        <!-- Services-->
        <div th:if="${exito}!=null" class="container" >
            <div class="text-center">
                <h2 class="section-heading text-uppercase">EXITO</h2>
                <h3 class="section-subheading text-muted" th:text="${exito}"></h3>
            </div>

        </div>

        <section class="page-section">
            <div class="container">
                <div class="container">
                    <div class="text-center">
                        <h2 class="section-heading text-uppercase">PANEL ADMINISTRATIVO</h2>
                      
                        <a href="/libro/form">Crear Libro</a>
                       
                        <table class="table table-dark">
                            <thead>
                                <tr>
                                    <th scope="col">id</th>
                                    <th scope="col">Documento</th>
                                    <th scope="col">Nombre</th>
                                    <th scope="col">Apellido</th>
                                    <th scope="col">Mail</th>
                                    <th scope="col">Rol</th>
                                    <th scope="col">Acciones</th>
                                </tr>
                            </thead>
                            <tbody th:each="cliente : ${clientes}"> 
                                <tr>

                                    <td th:text="${cliente.id}"></td>
                                    <td th:text="${cliente.documento}"></td>
                                    <td th:text="${cliente.nombre}"></td>
                                    <td th:text="${cliente.apellido}"></td>
                                    <td th:text="${cliente.mail}"></td>
                                    <td th:text="${cliente.rol}"></td>
                                    <td>

                                        <a th:href="@{/admin/deshabilitar/__${cliente.id}__}"><i class="fa fa-ban"></i></a>
                                        <a th:href="@{/admin/cambiar_rol/__${cliente.id}__}"><i class="fas fa-feather-alt"></i></a> 
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>    
        </section>
         <section class="page-section">
            <div class="container">
                <div class="container">
                    <div class="text-center">
                        <h2 class="section-heading text-uppercase">LISTADO DE PRESTAMOS</h2>
                        
                         <table class="table table-dark table-striped">
                        <thead>
                            <tr>
                               
                                <th>ID</th>
                                <th>Libro</th>
                                <th>Cliente</th>
                                <th>Fecha Prestamo</th>
                                <th>Fecha Devolucion</th>
                                
                                
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each=" p,iterator : ${prestamos} ">
                                <td th:text="${p.id}"></td>
                                <td th:text="${p.libro.titulo}"></td>
                                <td th:text="${p.cliente.id}"></td>
                                <td th:text="${p.fechaPrestamo}"></td>
                                <td th:text="${p.fechaDevolucion}"></td>
                              
                            </tr>
                        </tbody>
                        <p th:if="${prestamos.isEmpty}">No hay prestamos para mostrar</p>
                    </table>
                <!-- Footer-->
                <footer  th:replace="/fragments/footer :: footer">

                </footer>

                <!-- Bootstrap core JS-->
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
                <!-- Core theme JS-->
                <script src="js/scripts.js"></script>

                <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
                <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>

                </body>
                </html>